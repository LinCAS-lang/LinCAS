language: Crystal

sudo: required

os: linux

addons:
  apt:
    update: true
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - g++-6

compiler:
  - gcc

before_install:
  - sudo apt-get update
  
  - sudo rm /usr/bin/gcc
  - sudo rm /usr/bin/g++

  - sudo ln -s /usr/bin/gcc-6 /usr/bin/gcc
  - sudo ln -s /usr/bin/g++-6 /usr/bin/g++

  - gcc -v
  - wget ftp://ftp.gnu.org/gnu/gsl/gsl-2.4.tar.gz
  - unzip gsl-2.4.tar.gz
  - cd gsl-2.4
  - ./configure
  - make && sudo make install

script:
 - "./install.sh"

branches:
  only:
    - master
    - /^feature\//
    - /^bug\//